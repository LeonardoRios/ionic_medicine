<!--
  Generated template for the Detalhe page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{remedio.nome}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

	<ion-fab top right edge>
	<button ion-fab mini><ion-icon name="add"></ion-icon></button>
	<ion-fab-list>
	<button ion-fab (click)="abreEditaRemedio()"><ion-icon color="primary" name="create"></ion-icon></button>
	<button ion-fab (click)="removeRemedio()"><ion-icon color="danger" name="trash"></ion-icon></button>
	</ion-fab-list>
	</ion-fab>

	<ion-card>
	
	<ion-item>
	<ion-avatar item-left>
		<img src="{{remedio.foto}}">
	</ion-avatar>
	<h2>{{remedio.nome}}</h2>
	</ion-item>

	<ion-card-content>
		<p>Descrição: {{remedio.descricao}}</p>
		<p>Repetir: {{trataRepetir(remedio.repetir)}}</p>
		<p>Toque: {{trataToque(remedio.toque)}}</p>
	</ion-card-content>

	</ion-card>

	<div padding [hidden]="editandoHorario">
		<ion-item>
		  <ion-label>Adicionar Horário</ion-label>
		  <ion-datetime displayFormat="h:mm A" pickerFormat="h mm A" [(ngModel)]="horario" (ngModelChange)="adicionaHorario()"></ion-datetime>
		</ion-item>
	</div>

		<div padding [hidden]="!editandoHorario">
		<ion-item>
		  <ion-label>Editar Horário</ion-label>
		  <ion-datetime displayFormat="h:mm A" pickerFormat="h mm A" [(ngModel)]="horario" (ngModelChange)="atualizaHorario()"></ion-datetime>
		</ion-item>
		<p>
			<button ion-button color="light" (click)="cancelarEditar()" block>Cancelar</button>
		</p>
	</div>

	<ion-list padding>
		<ion-item *ngFor="let item of remedio.notificacoes">
			<ion-icon item-left name="alarm"></ion-icon>
			<h2>{{item.hora}}h{{trataMinuto(item.minuto)}}min</h2>
			<ion-icon item-right color="primary" (click)="editarHorario(item)" name="create"></ion-icon>	
			<ion-icon item-right color="danger" (click)="deletarHorario(item)" name="trash"></ion-icon>	
		</ion-item>
	</ion-list>

</ion-content>
